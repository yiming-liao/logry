"use strict";(self.webpackChunklogry_doc=self.webpackChunklogry_doc||[]).push([[645],{2937:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>i,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"api-reference/formatter-config","title":"Formatter Config","description":"FormatterConfig defines how each log field is styled and formatted per platform.","source":"@site/docs/api-reference/formatter-config.md","sourceDirName":"api-reference","slug":"/api-reference/formatter-config","permalink":"/logry/docs/api-reference/formatter-config","draft":false,"unlisted":false,"editUrl":"https://github.com/yiming-liao/logry/edit/main/website/docs/api-reference/formatter-config.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Formatter Config"},"sidebar":"tutorialSidebar","previous":{"title":"Normalizer Config","permalink":"/logry/docs/api-reference/normalizer-config"}}');var t=r(4848),d=r(8453);const i={sidebar_position:4,title:"Formatter Config"},c=" Formatter Config",l={},o=[{value:"Example",id:"example",level:3},{value:"Platform FormatterConfig Fields",id:"platform-formatterconfig-fields",level:3},{value:"Base Format Field Options",id:"base-format-field-options",level:4},{value:"Return Format Differences",id:"return-format-differences",level:3}];function h(e){const n={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsxs)(n.h1,{id:"-formatter-config",children:[(0,t.jsx)("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Activities/Sparkles.png",alt:"Sparkles",width:"36",height:"36"})," Formatter Config"]})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"FormatterConfig"})," defines how each log field is styled and formatted per platform."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"type FormatterConfig = {\n  node?: NodeFormatterConfig;\n  browser?: BrowserFormatterConfig;\n  edge?: EdgeFormatterConfig;\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["All three platform configs share the same structure for most fields such as level, scope, and context, etc.",(0,t.jsx)(n.br,{}),"\n","The only difference is:\nnode includes additional fields like ",(0,t.jsx)(n.strong,{children:"pid"})," and ",(0,t.jsx)(n.strong,{children:"hostname"}),", which are only available in Node.js environments."]}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const logger = logry({\n  formatterConfig: {\n    node: {\n      timestamp: {\n        hide: false,\n        prefix: "<",\n        suffix: ">",\n        lineBreaks: 0,\n        spaceAfter: 1,\n      },\n      id: {\n        useAnsiStyle: true,\n        ansiStyle: "\\x1b[35m",\n      },\n      level: {\n        enableAlignment: true,\n      },\n      scope: {\n        showOnlyLatest: true,\n        separator: " \u27a4 ",\n      },\n      message: {\n        customFormatter: ({ fieldValue, raw }) => {\n          const ansi = raw.level === "fatal" ? "\\x1b[31m" : "";\n          return { fieldValue, withAnsiStyle: `${ansi}${fieldValue}\\x1b[0m` };\n        },\n      },\n      meta: {\n        format: "pretty",\n        indent: 2,\n      },\n      context: {\n        depth: 2,\n        colors: true,\n        compact: true,\n        breakLength: 40,\n      },\n    },\n    browser: {\n      timestamp: { cssStyle: "border: 1px dashed red" },\n      message: {\n        customFormatter: ({ fieldValue, raw }) => {\n          const cssStyle = raw.level === "fatal" ? "color: red" : "";\n          return { fieldValue, cssStyle };\n        },\n      },\n    },\n  },\n});\n'})}),"\n",(0,t.jsx)(n.h3,{id:"platform-formatterconfig-fields",children:"Platform FormatterConfig Fields"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Field"}),(0,t.jsx)(n.th,{children:"Base Options"}),(0,t.jsx)(n.th,{children:"Node (additional)"}),(0,t.jsx)(n.th,{children:"Browser (additional)"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"timestamp?"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"customFormatter"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"useAnsiStyle"}),", ",(0,t.jsx)(n.code,{children:"ansiStyle"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cssStyle"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"id?"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"customFormatter"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"useAnsiStyle"}),", ",(0,t.jsx)(n.code,{children:"ansiStyle"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cssStyle"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"level?"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"customFormatter"}),", ",(0,t.jsx)(n.code,{children:"enableAlignment"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"useAnsiStyle"}),", ",(0,t.jsx)(n.code,{children:"ansiStyle"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cssStyle"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"scope?"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"customFormatter"}),", ",(0,t.jsx)(n.code,{children:"showOnlyLatest"}),", ",(0,t.jsx)(n.code,{children:"separator"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"useAnsiStyle"}),", ",(0,t.jsx)(n.code,{children:"ansiStyle"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cssStyle"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"message?"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"customFormatter"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"useAnsiStyle"}),", ",(0,t.jsx)(n.code,{children:"ansiStyle"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cssStyle"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"meta?"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"customFormatter"}),", ",(0,t.jsx)(n.code,{children:"format"}),", ",(0,t.jsx)(n.code,{children:"indent"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"useAnsiStyle"}),", ",(0,t.jsx)(n.code,{children:"ansiStyle"}),", ",(0,t.jsx)(n.code,{children:"InspectOptions"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cssStyle"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"context?"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"customFormatter"}),", ",(0,t.jsx)(n.code,{children:"format"}),", ",(0,t.jsx)(n.code,{children:"indent"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"useAnsiStyle"}),", ",(0,t.jsx)(n.code,{children:"ansiStyle"}),", ",(0,t.jsx)(n.code,{children:"InspectOptions"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cssStyle"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"pid?"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"customFormatter"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"useAnsiStyle"}),", ",(0,t.jsx)(n.code,{children:"ansiStyle"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.em,{children:"(N/A)"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"hostname?"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"customFormatter"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"useAnsiStyle"}),", ",(0,t.jsx)(n.code,{children:"ansiStyle"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.em,{children:"(N/A)"})})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"base-format-field-options",children:"Base Format Field Options"}),"\n",(0,t.jsx)(n.p,{children:"These options are common to all formatter fields and control general display behaviors applicable to every field."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Type"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"hide"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"prefix"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"suffix"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"lineBreaks"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"spaceAfter"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"return-format-differences",children:"Return Format Differences"}),"\n",(0,t.jsx)(n.p,{children:"While all platform formatters use the same config shape, they return slightly different structures depending on the runtime:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Field"}),(0,t.jsx)(n.th,{children:"Options"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"node"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{ fieldValue, withAnsiStyle } (optional)"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"browser"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{ fieldValue, cssStyle } (optional)"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"edge"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{ fieldValue } (only)"})})]})]})]})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>c});var s=r(6540);const t={},d=s.createContext(t);function i(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunklogry_doc=self.webpackChunklogry_doc||[]).push([[811],{565:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"architecture/transporter","title":"Transporter","description":"When a log is passed to a Transporter, it flows through three clear stages:","source":"@site/docs/architecture/transporter.md","sourceDirName":"architecture","slug":"/architecture/transporter","permalink":"/logry/docs/architecture/transporter","draft":false,"unlisted":false,"editUrl":"https://github.com/yiming-liao/logry/edit/main/website/docs/architecture/transporter.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Transporter"},"sidebar":"tutorialSidebar","previous":{"title":"Log Pipeline","permalink":"/logry/docs/architecture/log-pipeline"},"next":{"title":"Normalizer","permalink":"/logry/docs/architecture/normalizer"}}');var n=s(4848),o=s(8453);const i={sidebar_position:3,title:"Transporter"},l=" Transporter",a={},d=[{value:"Built-in Transporters",id:"-built-in-transporters",level:3},{value:"Universal by Default",id:"-universal-by-default",level:3},{value:"Platform-Specific Variants",id:"-platform-specific-variants",level:3},{value:"Edge Runtime Support",id:"-edge-runtime-support",level:3},{value:"Design Principle: Console Only",id:"-design-principle-console-only",level:3}];function c(e){const r={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsxs)(r.h1,{id:"-transporter",children:[(0,n.jsx)("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Travel%20and%20places/Airplane%20Departure.png",alt:"Airplane Departure",width:"36",height:"36"})," Transporter"]})}),"\n",(0,n.jsx)(r.p,{children:"When a log is passed to a Transporter, it flows through three clear stages:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"\ud83d\udd00 Normalization \u2014 Ensures a consistent, structured shape."}),"\n",(0,n.jsx)(r.li,{children:"\ud83c\udfa8 Formatting \u2014 Transforms the data into a readable format."}),"\n",(0,n.jsxs)(r.li,{children:["\ud83d\udda8 Output \u2014 Sends the final log to the destination ",(0,n.jsx)(r.strong,{children:"console"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Note:"}),(0,n.jsx)(r.br,{}),"\n","In Node.js, ",(0,n.jsx)(r.strong,{children:"NodeConsoleTransporter"})," lazily appends fields like ",(0,n.jsx)(r.code,{children:"pid"})," and ",(0,n.jsx)(r.code,{children:"hostname"}),".",(0,n.jsx)(r.br,{}),"\n","This is done asynchronously to ensure that ",(0,n.jsx)(r.strong,{children:"Logger.log()"})," remains synchronous and returns immediately."]}),"\n"]}),"\n",(0,n.jsxs)(r.h3,{id:"-built-in-transporters",children:[(0,n.jsx)("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Activities/Sparkles.png",alt:"Sparkles",width:"20",height:"20"})," Built-in Transporters"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Logry"})," ships with platform-aware console transporters,",(0,n.jsx)(r.br,{}),"\n","so your logs always show up in the right place\u2014without any extra setup \ud83d\udee0\ufe0f"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Platform"}),(0,n.jsx)(r.th,{children:"Transporter"}),(0,n.jsx)(r.th,{children:"Output target"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Node.js"})}),(0,n.jsx)(r.td,{children:"NodeConsoleTransporter"}),(0,n.jsx)(r.td,{children:"Terminal console"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Browser"})}),(0,n.jsx)(r.td,{children:"BrowserConsoleTransporter"}),(0,n.jsx)(r.td,{children:"Browser developer console"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Edge"})}),(0,n.jsx)(r.td,{children:"EdgeConsoleTransporter"}),(0,n.jsx)(r.td,{children:"Platform console (plain text)"})]})]})]}),"\n",(0,n.jsxs)(r.p,{children:["Each transporter ",(0,n.jsx)(r.strong,{children:"activates only"})," in its matching runtime, and ",(0,n.jsx)(r.strong,{children:"does nothing"})," otherwise."]}),"\n",(0,n.jsxs)(r.h3,{id:"-universal-by-default",children:[(0,n.jsx)("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Activities/Sparkles.png",alt:"Sparkles",width:"20",height:"20"})," Universal by Default"]}),"\n",(0,n.jsxs)(r.p,{children:['Importing from "logry" gives you a universal logger with both ',(0,n.jsx)(r.strong,{children:"Node"})," and ",(0,n.jsx)(r.strong,{children:"browser"})," transporters attached:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",children:'import { logry } from "logry"; // Includes both NodeConsoleTransporter and BrowserConsoleTransporter\n\nlogry.info("Hello from anywhere");\n'})}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsxs)(r.p,{children:["In Node.js, logs go to the terminal. In the browser, they appear in the browser console.",(0,n.jsx)(r.br,{}),"\n","\u26a1\ufe0f No extra configuration required."]}),"\n"]}),"\n",(0,n.jsxs)(r.h3,{id:"-platform-specific-variants",children:[(0,n.jsx)("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Activities/Sparkles.png",alt:"Sparkles",width:"20",height:"20"})," Platform-Specific Variants"]}),"\n",(0,n.jsx)(r.p,{children:"To reduce bundle size or fine-tune behavior, you can import from a platform-specific entry point:"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Import Path"}),(0,n.jsx)(r.th,{children:"Platform"}),(0,n.jsx)(r.th,{children:"Bound Transporter"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:'"logry/node"'}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Node.js"})}),(0,n.jsx)(r.td,{children:"NodeConsoleTransporter"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:'"logry/browser"'}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Browser"})}),(0,n.jsx)(r.td,{children:"BrowserConsoleTransporter"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:'"logry/edge"'}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Edge"})}),(0,n.jsx)(r.td,{children:"EdgeConsoleTransporter"})]})]})]}),"\n",(0,n.jsxs)(r.p,{children:["Each variant includes ",(0,n.jsx)(r.strong,{children:"only"})," the relevant transporter for its environment."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",children:'import { logry } from "logry/node"; // Logs only to terminal (no browser logic)\n'})}),"\n",(0,n.jsxs)(r.h3,{id:"-edge-runtime-support",children:[(0,n.jsx)("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Activities/Sparkles.png",alt:"Sparkles",width:"20",height:"20"})," Edge Runtime Support"]}),"\n",(0,n.jsxs)(r.p,{children:['The "logry/edge" export is optimized for environments like Cloudflare Workers and other serverless platforms.',(0,n.jsx)(r.br,{}),"\n","It uses ",(0,n.jsx)(r.strong,{children:"EdgeConsoleTransporter"}),", a minimal transporter that prints plain-text logs to the platform\u2019s console."]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsxs)(r.p,{children:["\u26a0\ufe0f Always use logry/edge in Edge runtimes.",(0,n.jsx)(r.br,{}),"\n","Other versions rely on Node.js APIs and may fail to run."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",children:'import { logry } from "logry/edge";\n\nlogry.info("Hello from the Edge");\n'})}),"\n",(0,n.jsxs)(r.h3,{id:"-design-principle-console-only",children:[(0,n.jsx)("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Activities/Sparkles.png",alt:"Sparkles",width:"20",height:"20"})," Design Principle: Console Only"]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsxs)(r.p,{children:["\ud83d\udd2e Unlike traditional loggers that mix console output with side-effects,",(0,n.jsx)(r.br,{}),"\n",(0,n.jsx)(r.strong,{children:"Logry"})," keeps things clean and focused.",(0,n.jsx)(r.br,{}),"\n","Transporters handle console output only; for other log deliveries, use Handlers."]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>i,x:()=>l});var t=s(6540);const n={},o=t.createContext(n);function i(e){const r=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(o.Provider,{value:r},e.children)}}}]);
"use strict";(self.webpackChunklogry_doc=self.webpackChunklogry_doc||[]).push([[931],{6823:(e,t,r)=>{r.d(t,{MF:()=>be,R8:()=>Be,Yz:()=>ze,h2:()=>Ve,pq:()=>$e,uP:()=>Ae,z3:()=>Te});var s=new Map,i=(e,t)=>{const r={...e?.node??{},...t?.node??{}},s={...e?.browser??{},...t?.browser??{}},i={...e?.edge??{},...t?.edge??{}};return{node:Object.keys(r).length?r:void 0,browser:Object.keys(s).length?s:void 0,edge:Object.keys(i).length?i:void 0}},o=(e,t)=>{const r={...e?.node??{},...t?.node??{}},s={...e?.browser??{},...t?.browser??{}},i={...e?.edge??{},...t?.edge??{}};return{node:Object.keys(r).length?r:void 0,browser:Object.keys(s).length?s:void 0,edge:Object.keys(i).length?i:void 0}},n=e=>{if("object"!=typeof e||null===e)return!1;return"function"==typeof e.handle},a=async({handler:e,id:t,rawPayload:r,onError:s})=>{try{"function"==typeof e?await e(r):n(e)&&await e.handle(r)}catch(i){s?.({error:i,id:t})}},l=async(e,t)=>{const r=Array.from(e.entries()).map(([e,t])=>({handlerId:t,task:e}));t>0?await Promise.all(r.map(e=>((e,t,r)=>{let s;const i=new Promise((t,i)=>{s=setTimeout(()=>{const t=new Error("Timeout exceeded");t.handlerId=e,i(t)},r)});return Promise.race([t,i]).finally(()=>clearTimeout(s))})(e.handlerId,e.task,t))):await Promise.allSettled(r.map(e=>e.task))};var f={error:"\u274c",warn:"\u26a0\ufe0f"},c=({type:e,message:t,tag:r,error:s})=>{const i=r?`[logry/${r}]`:"[logry]";let o="";return s&&(o=s instanceof Error?`\n${s.stack||s.message}`:`\n${String(s)}`),`${f[e]} ${i} ${t}${o}`},d=()=>"object"==typeof globalThis.process&&"object"==typeof globalThis.process.versions&&"string"==typeof globalThis.process.versions.node,m=()=>{if(d()){return"production"!=="development"}return void 0!==globalThis.__LOGRY_DEV__&&Boolean(globalThis.__LOGRY_DEV__)},p=({message:e,tag:t,error:r})=>{if(m())return(({message:e,tag:t,error:r})=>{const s=c({type:"error",message:e,tag:t,error:r});throw new Error(s)})({message:e,tag:t,error:r});(({message:e,tag:t,error:r})=>{const s=c({type:"error",message:e,tag:t,error:r});console.error(s)})({message:e,tag:t,error:r})},h=({type:e,message:t,tag:r,error:s})=>{if(!m())return;const i=c({type:e,message:t,tag:r,error:s});"error"===e?console.error(i):console.warn(i)},g=(e=new Error)=>e.stack?.split("\n").slice(2,5).join("\n").trim(),u=class{constructor(e={}){this.config=e,this.handlers=[],this.idCounter=0,this.pendingTasks=new Map,this.setConfig(e)}getConfig(){return this.config}setConfig(e){if(this.config={...this.config,...e},this.onError=this.config.onError,this.flushTimeout=this.config.flushTimeout,this.cancelFlushStrategy&&(this.cancelFlushStrategy(),this.cancelFlushStrategy=void 0),this.config.flushStrategy){const e=function({flushStrategy:e,flush:t,onError:r}){try{const s=e(async()=>{try{await t()}catch(e){r?.({error:e,id:"flush strategy",isFlushError:!0})}});if("function"==typeof s)return s}catch(s){r?.({error:s,id:"flush strategy setup",isFlushError:!1})}}({flushStrategy:this.config.flushStrategy,flush:this.flush.bind(this),onError:this.onError});e&&(this.cancelFlushStrategy=e)}}getHandlers(){return[...this.handlers]}getHandler(e){return this.handlers.find(t=>t.id===e)}generateUniqueId(){let e="handler-"+this.idCounter++;for(;this.handlers.some(t=>t.id===e);)e="handler-"+this.idCounter++;return e}addHandler(e,t,r="end"){const s=t??this.generateUniqueId();return"start"===r?this.handlers.unshift({id:s,handler:e}):this.handlers.push({id:s,handler:e}),(({handler:e,id:t,onError:r})=>{n(e)&&"function"==typeof e.init&&Promise.resolve().then(()=>e.init?.()).catch(e=>r?.({error:e,id:t}))})({handler:e,id:s,onError:this.onError}),s}runHandlers(e){for(const{id:t,handler:r}of this.handlers){const s=a({handler:r,id:t,rawPayload:e,onError:this.onError});this.pendingTasks.set(s,t),s.finally(()=>this.pendingTasks.delete(s))}}removeHandler(e){const t=this.handlers.findIndex(t=>t.id===e);return-1!==t&&(this.handlers.splice(t,1),!0)}async flush(e){if(e=e??this.flushTimeout??5e3,0!==this.pendingTasks.size)try{await l(this.pendingTasks,e)}catch(t){const r=t.handlerId;h({type:"error",tag:"HandlerManager.flush",message:`Error occurred while flushing pending handler tasks (handlerId: ${r}, timeout: ${e}ms)`}),this.onError?.({error:t,id:r,isFlushError:!0})}finally{this.pendingTasks.clear()}}async dispose(){this.cancelFlushStrategy?.(),this.cancelFlushStrategy=void 0,await Promise.all(this.handlers.map(async({id:e,handler:t})=>{if(n(t))try{await(t.dispose?.())}catch(r){this.onError?.({error:r,id:e})}})),this.handlers=[],this.pendingTasks.clear(),this.onError=void 0}},y={silent:{priority:1/0,ansiStyle:"",cssStyle:""},trace:{priority:10,ansiStyle:"",cssStyle:"rgba(150, 150, 150, 0.6)"},debug:{priority:20,ansiStyle:"\x1b[38;5;39m",cssStyle:"rgba(112, 152, 215, 0.93)"},info:{priority:30,ansiStyle:"\x1b[38;5;114m",cssStyle:"rgba(76, 186, 123, 0.75)"},warn:{priority:40,ansiStyle:"\x1b[38;5;215m",cssStyle:"rgba(231, 151, 65, 0.75)"},error:{priority:50,ansiStyle:"\x1b[38;5;9m",cssStyle:"rgba(250, 72, 98, 0.75)"},fatal:{priority:60,ansiStyle:"\x1b[101m\x1b[30m",cssStyle:"rgba(220, 20, 60, 0.9)"}},v="default",w="warn",x=e=>{if(void 0!==e&&!(e in y))return p({message:`Invalid log level: ${e}`})},C=(e,t,r,s)=>(i,o,n)=>{(({effectiveLevel:e,level:t})=>(x(e),x(t),y[t].priority>=y[e].priority))({effectiveLevel:t,level:r})&&e({level:r,message:i,meta:o,options:n,id:s})},S=(e,t)=>{if(e||t)return{...e??{},...t??{}}},b=(e=[],t)=>void 0===t?e:Array.isArray(t)?[...e,...t]:[...e,t],k=(e,t)=>{const r=r=>(x(r),(s,i,o)=>e({level:r,message:s,meta:i,options:o,id:t}));return{trace:r("trace"),debug:r("debug"),info:r("info"),warn:r("warn"),error:r("error"),fatal:r("fatal")}},A=({timestamp:e=Date.now(),level:t,id:r="",message:s,meta:i,scope:o,context:n,normalizerConfig:a,formatterConfig:l})=>s?.trim()?{timestamp:e,level:t,id:r,message:s,meta:i,scope:o,context:n,normalizerConfig:a,formatterConfig:l,raw:{timestamp:e,level:t,id:r,message:s,scope:o,hasMeta:void 0!==i,hasContext:void 0!==n}}:p({message:"Message is required and cannot be empty."}),z=()=>"object"==typeof globalThis.window&&"object"==typeof globalThis.document,$=({transporters:e,rawPayload:t})=>{let r=null;if(d()?r="node":z()?r="browser":d()||z()||(r="edge"),r)for(const s of e)s.platform===r&&s.transport(t)},B="\x1b[0m",T="\x1b[38;5;245m",V=(e,t)=>e?t?`${t}${e}${B}`:e:"",L=(e,t=0)=>e?t<=0?e:`${"\n".repeat(t)}${e}`:"",O=(e,t,r)=>e?`${t??""}${e}${r??""}`:"",M=(e,t)=>e?!t||t<=0?e:`${e}${" ".repeat(t)}`:"";function E({fieldKey:e,input:t,customFormatter:r}){if("function"==typeof r)try{return r(t)}catch(s){p({error:s,message:`custom ${e} formatter failed.`})}}var j=({platform:e,fieldKey:t,fieldValue:r,raw:s,options:i})=>{const o="node"===e,n="browser"===e,{hide:a,prefix:l,suffix:f,lineBreaks:c,spaceAfter:d,customFormatter:m}=i,p=i,h=i;if(a||null==r)return{fieldValue:"",withAnsiStyle:"",cssStyle:""};if(m){const e=E({fieldKey:t,input:{fieldValue:r,raw:s},customFormatter:m});if(e)return e}"scope"===t&&Array.isArray(s.scope)&&(r=(({scope:e,rawScope:t,showOnlyLatest:r=!1,customSeparator:s})=>Array.isArray(t)&&0!==t.length?r?t[t.length-1]:s?t.join(s):e:"")({scope:r,rawScope:s.scope,showOnlyLatest:i.showOnlyLatest,customSeparator:i.separator}));let g=O(r,l,f);var u,v;"level"===t&&"string"==typeof s.level&&i.enableAlignment&&(u=g,g=(v=s.level)in y&&4===v.length?u+" ":u);let w,x=L(g,c);return x=M(x,d),o&&(w=V(g,p.ansiStyle),w=L(w,c),w=M(w,d)),{fieldValue:x,withAnsiStyle:o?w:void 0,cssStyle:n?h.cssStyle:void 0}},N="font-family: 'Menlo', 'Consolas', 'Courier New', monospace;",K="padding: 4px 8px;",F="border: 1px solid gray;",H={timestamp:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:0,cssStyle:`${N}${K}${F} border-left: 8px solid `},id:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:0,cssStyle:`${N}${K}${F} font-style: italic; font-weight:600;`},level:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:0,cssStyle:`${N}${K}${F} background: `,enableAlignment:!0},scope:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:0,cssStyle:`${N}${K}${F}`,showOnlyLatest:!1,separator:" > "},message:{hide:!1,prefix:" ",suffix:void 0,lineBreaks:0,spaceAfter:0,cssStyle:void 0},meta:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:0,cssStyle:void 0,format:"raw",indent:4},context:{hide:!0,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:0,cssStyle:void 0,format:"raw",indent:4}},I={node:{timestamp:{hide:!1,prefix:"[",suffix:"]",lineBreaks:0,spaceAfter:1,ansiStyle:void 0},id:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:1,ansiStyle:T},level:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:1,ansiStyle:void 0,enableAlignment:!0},scope:{hide:!1,prefix:"[",suffix:"]",lineBreaks:0,spaceAfter:1,ansiStyle:void 0,showOnlyLatest:!1,separator:" > "},message:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:1,ansiStyle:"\x1b[36m"},meta:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:1,ansiStyle:void 0,format:"raw",indent:4,depth:3,colors:!0},context:{hide:!0,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:1,ansiStyle:void 0,format:"raw",indent:4,depth:3,colors:!0},pid:{hide:!0,prefix:"(",suffix:"@",lineBreaks:0,spaceAfter:0,ansiStyle:T},hostname:{hide:!0,prefix:void 0,suffix:")",lineBreaks:0,spaceAfter:1,ansiStyle:T}},browser:H,edge:{timestamp:{hide:!1,prefix:"[",suffix:"]",lineBreaks:0,spaceAfter:1},id:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:1},level:{hide:!1,prefix:void 0,suffix:void 0,lineBreaks:0,spaceAfter:1,enableAlignment:!1},scope:{hide:!1,prefix:"[",suffix:"]",lineBreaks:0,spaceAfter:1,showOnlyLatest:!1,separator:" > "},message:{hide:!1,prefix:"\u2022 ",suffix:void 0,lineBreaks:0,spaceAfter:1},meta:{hide:!1,prefix:"| ",suffix:void 0,lineBreaks:0,spaceAfter:1,format:"json",indent:0},context:{hide:!0,prefix:"| ",suffix:void 0,lineBreaks:0,spaceAfter:1,format:"json",indent:0}}},U=({platform:e,fieldKey:t,raw:r,options:s={}})=>{const i=I[e][t],o={...i,...s};if("node"===e&&r){const e=o,s=i;e.ansiStyle??(e.ansiStyle=s.ansiStyle),"level"===t&&(e.ansiStyle??(e.ansiStyle=y[r.level].ansiStyle))}if("browser"===e&&r){const e=o,s=i;e.cssStyle??(e.cssStyle=s.cssStyle),"timestamp"!==t&&"level"!==t||(e.cssStyle+=y[r.level].cssStyle)}return o},P=({platform:e,fieldKey:t,fieldValue:r,raw:s,options:i})=>{const o="node"===e,n="browser"===e,{hide:a,prefix:l,suffix:f,lineBreaks:c,spaceAfter:d,format:m,indent:p,customFormatter:g}=i,u=i,y=i;if(a||null==r)return{fieldValue:"",withAnsiStyle:"",cssStyle:""};if(g){const e=E({fieldKey:t,input:{fieldValue:r,raw:s},customFormatter:g});if(e)return e}const v=((e,t="pretty",r=0)=>{try{switch(t){case"raw":return e;case"json":return JSON.stringify(e);case"pretty":{const t=" ".repeat(r);return`\n${JSON.stringify(e,null,2).split("\n").map(e=>t+e).join("\n")}`}case"compact":return"object"!=typeof e||null===e?"":Object.entries(e).map(([e,t])=>{let r;return r="object"==typeof t&&null!==t?JSON.stringify(t):"string"==typeof t&&/\s/.test(t)?`"${t}"`:String(t),`${e}=${r}`}).join(" ");default:return h({type:"warn",message:`Unknown style "${t}", using "json" as fallback.`}),JSON.stringify(e)}}catch(s){return h({type:"error",message:`Failed to stringify object. ${s instanceof Error?s.message:String(s)}`}),""}})(r,m,p);if("string"==typeof v){const e=O(v,l,f);let t,r=L(e,c);return r=M(r,d),o&&(t=V(e,u.ansiStyle),t=L(t,c),t=M(t,d)),{fieldValue:r,withAnsiStyle:o?t:void 0,cssStyle:n?y.cssStyle:void 0}}return{fieldValue:v,withAnsiStyle:"",cssStyle:""}},_=class{format(e,{timestamp:t,id:r,level:s,scope:i,message:o,meta:n,context:a,pid:l,hostname:f,normalizerConfig:c,formatterConfig:d,raw:m}){const{timestamp:p,id:h,level:g,scope:u,message:y,meta:v,context:w}=d[e]||{},x=d[e],C="node"===e?x?.pid:void 0,S="node"===e?x?.hostname:void 0,{fieldValue:b,withAnsiStyle:k,cssStyle:A}=((e,t,r,s={})=>{const i=U({platform:e,fieldKey:"timestamp",raw:r,options:s});return j({platform:e,fieldKey:"timestamp",fieldValue:String(t),raw:r,options:i})})(e,t,m,p),{fieldValue:z,withAnsiStyle:$,cssStyle:B}=((e,t,r,s={})=>{const i=U({platform:e,fieldKey:"id",raw:r,options:s});return j({platform:e,fieldKey:"id",fieldValue:t,raw:r,options:i})})(e,r,m,h),{fieldValue:T,withAnsiStyle:V,cssStyle:L}=((e,t,r,s={})=>{const i=U({platform:e,fieldKey:"level",raw:r,options:s});return j({platform:e,fieldKey:"level",fieldValue:t,raw:r,options:i})})(e,s,m,g),{fieldValue:O,withAnsiStyle:M,cssStyle:E}=((e,t,r,s={})=>{const i=U({platform:e,fieldKey:"scope",raw:r,options:s});return j({platform:e,fieldKey:"scope",fieldValue:t,raw:r,options:i})})(e,i,m,u),{fieldValue:N,withAnsiStyle:K,cssStyle:F}=((e,t,r,s={})=>{const i=U({platform:e,fieldKey:"message",raw:r,options:s});return j({platform:e,fieldKey:"message",fieldValue:t,raw:r,options:i})})(e,o,m,y),{fieldValue:H,withAnsiStyle:I,cssStyle:_}=((e,t,r,s={})=>{const i=U({platform:e,fieldKey:"meta",raw:r,options:s});return P({platform:e,fieldKey:"meta",fieldValue:t,raw:r,options:i})})(e,n,m,v),{fieldValue:D,withAnsiStyle:R,cssStyle:Y}=((e,t,r,s={})=>{const i=U({platform:e,fieldKey:"context",raw:r,options:s});return P({platform:e,fieldKey:"context",fieldValue:t,raw:r,options:i})})(e,a,m,w),{fieldValue:q,withAnsiStyle:J}="node"===e?((e,t,r,s={})=>{const i=U({platform:e,fieldKey:"pid",raw:r,options:s});return j({platform:e,fieldKey:"pid",fieldValue:void 0!==t?String(t):void 0,raw:r,options:i})})(e,l,m,C):{fieldValue:void 0,withAnsiStyle:void 0},{fieldValue:G,withAnsiStyle:W}="node"===e?((e,t,r,s={})=>{const i=U({platform:e,fieldKey:"hostname",raw:r,options:s});return j({platform:e,fieldKey:"hostname",fieldValue:t,raw:r,options:i})})(e,f,m,S):{fieldValue:void 0,withAnsiStyle:void 0};return{timestamp:b,id:z,level:T,scope:O,message:N,meta:H,context:D,pid:q,hostname:G,normalizerConfig:c,formatterConfig:d,raw:m,withAnsiStyle:{timestamp:k,id:$,level:V,pid:J,hostname:W,scope:M,message:K,meta:I,context:R},cssStyles:{timestamp:A,id:B,level:L,scope:E,message:F,meta:_,context:Y}}}},D="pretty",R=!1,Y=!1,q="upper",J={silent:"SILENT",trace:"TRACE",debug:"DEBUG",info:"INFO",warn:"WARN",error:"ERROR",fatal:"FATAL"},G={silent:"Silent",trace:"Trace",debug:"Debug",info:"Info",warn:"Warn",error:"Error",fatal:"Fatal"},W=" > ",Q=3,X=e=>e.toString().padStart(2,"0"),Z=({timestamp:e,useUTC:t=!1,showTimeOnly:r=!1})=>{const s=new Date(e),i=t?{y:s.getUTCFullYear(),m:X(s.getUTCMonth()+1),d:X(s.getUTCDate()),h:X(s.getUTCHours()),min:X(s.getUTCMinutes()),s:X(s.getUTCSeconds())}:{y:s.getFullYear(),m:X(s.getMonth()+1),d:X(s.getDate()),h:X(s.getHours()),min:X(s.getMinutes()),s:X(s.getSeconds())};return r?`${i.h}:${i.min}:${i.s}`:`${i.y}-${i.m}-${i.d} ${i.h}:${i.min}:${i.s}`},ee=({label:e,input:t,customNormalizer:r})=>{if("function"==typeof r)try{return r(t)}catch(s){p({error:s,message:`custom ${e} normalizer failed.`})}},te=(e,t,r={})=>{const{style:s=D,useUTC:i=R,showTimeOnly:o=Y,customNormalizer:n}=r,a=ee({label:"timestamp",input:{fieldValue:e,raw:t},customNormalizer:n});if(a)return a;switch(s){case"raw":return e;case"iso":return new Date(e).toISOString();case"epoch":return Math.floor(e/1e3);case"pretty":return Z({timestamp:e,useUTC:i,showTimeOnly:o});default:return h({type:"warn",message:`Unknown timestamp style "${s}", using "pretty" as fallback.`}),Z({timestamp:e,useUTC:i,showTimeOnly:o})}},re=(e,t,r={})=>{const{customNormalizer:s}=r,i=ee({label:"id",input:{fieldValue:e,raw:t},customNormalizer:s});return i||e},se=(e,t,r={})=>{const{style:s=q,customNormalizer:i}=r,o=ee({label:"level",input:{fieldValue:e,raw:t},customNormalizer:i});if(o)return o;switch(s){case"lower":return e;case"title":return G[e];case"upper":return J[e];default:return h({type:"warn",message:`Unknown level style "${s}", using "upper" as fallback.`}),J[e]}},ie=(e,t,r={})=>{const{separator:s=W,customNormalizer:i}=r,o=ee({label:"scope",input:{fieldValue:e,raw:t},customNormalizer:i});if(o)return o;return e.join(s)},oe=(e,t,r={})=>{const{customNormalizer:s}=r,i=ee({label:"message",input:{fieldValue:e,raw:t},customNormalizer:s});return i||e},ne=(e,t)=>({message:e.message,stack:e.stack?e.stack.split("\n").slice(0,t).join("\n"):void 0}),ae=(e,t,r={})=>{if(null==e)return;const{errorStackLines:s=Q,customNormalizer:i}=r,o=ee({label:"meta",input:{fieldValue:e,raw:t},customNormalizer:i});if(o)return o;return((e,t)=>{if(e instanceof Error&&(e={error:ne(e,t)}),"object"==typeof e&&null!==e&&"error"in e&&e.error instanceof Error){const{error:r,...s}=e;e={...s,error:ne(r,t)}}return"object"!=typeof e||null===e||Array.isArray(e)?{value:e}:e})(e,s)},le=(e,t,r={})=>{const{customNormalizer:s}=r,i=ee({label:"context",input:{fieldValue:e,raw:t},customNormalizer:s});return i||e},fe=(e,t,r={})=>{const{customNormalizer:s}=r,i=ee({label:"hostname",input:{fieldValue:e,raw:t},customNormalizer:s});return i||e},ce=(e,t,r={})=>{const{customNormalizer:s}=r,i=ee({label:"pid",input:{fieldValue:e,raw:t},customNormalizer:s});return i||e},de=class{normalize(e,{timestamp:t,id:r,level:s,pid:i,hostname:o,scope:n,message:a,meta:l,context:f,normalizerConfig:c,formatterConfig:d,raw:m}){const{timestamp:p,id:h,level:g,scope:u,message:y,meta:v,context:w}=c[e]||{},x=c[e],C="node"===e?x?.pid:void 0,S="node"===e?x?.hostname:void 0;return{timestamp:te(t,m,p),id:re(r,m,h),level:se(s,m,g),scope:ie(n,m,u),message:oe(a,m,y),meta:ae(l,m,v),context:le(f,m,w),...i?{pid:ce(i,m,C)}:{},...o?{hostname:fe(o,m,S)}:{},normalizerConfig:c,formatterConfig:d,raw:m}}},me=class{constructor({level:e,scope:t=[],context:r,normalizerConfig:s,formatterConfig:n}){this.scope=[],this.transporters=[],this.mergeInheritedOptions=e=>((e={scope:[],normalizerConfig:{},formatterConfig:{}},t={})=>({scope:b(e.scope,t.scope),context:S(e.context,t.context),normalizerConfig:o(e.normalizerConfig,t.normalizerConfig),formatterConfig:i(e.formatterConfig,t.formatterConfig)}))({scope:this.scope,context:this.context,normalizerConfig:this.normalizerConfig,formatterConfig:this.formatterConfig},e),this.level=e||w,this.scope=Array.isArray(t)?t:[t],this.context=r,this.normalizerConfig=s||{},this.normalizer=new de,this.formatterConfig=n||{},this.formatter=new _;const a=this.log.bind(this);this.updateLogMethods(a,this.level),this.force=k(a)}updateLogMethods(e,t,r){this.trace=C(e,t,"trace",r),this.debug=C(e,t,"debug",r),this.info=C(e,t,"info",r),this.warn=C(e,t,"warn",r),this.error=C(e,t,"error",r),this.fatal=C(e,t,"fatal",r)}log({id:e,level:t,message:r,meta:s,options:i}){if("silent"===t)return;x(t);const o=this.mergeInheritedOptions({scope:i?.scope,context:i?.context,formatterConfig:i?.formatterConfig,normalizerConfig:i?.normalizerConfig}),n=A({timestamp:Date.now(),level:t,id:e,message:r,meta:s,...o});$({transporters:this.transporters,rawPayload:n}),this.afterTransport?.(n)}afterTransport(e){}},pe=class extends me{constructor({level:e,scope:t=[],context:r,normalizerConfig:s,formatterConfig:i,handlerManagerConfig:o}){super({level:e,scope:t,context:r,normalizerConfig:s,formatterConfig:i});const n=this.log.bind(this);this.updateLogMethods(n,this.level),this.force=k(n),this.handlerManager=new u(o)}getHandlers(){return this.handlerManager.getHandlers()}getHandler(e){return this.handlerManager.getHandler(e)}addHandler(e,t,r){return this.handlerManager.addHandler(e,t,r)}removeHandler(e){this.handlerManager.removeHandler(e)}afterTransport(e){this.handlerManager.runHandlers(e)}async flush(e){await this.handlerManager.flush(e)}async dispose(){await this.handlerManager.dispose()}},he=class e extends pe{constructor({core:e,level:t,scope:r=[],context:s,normalizerConfig:i,formatterConfig:o}){super({level:t,scope:r,context:s,normalizerConfig:i,formatterConfig:o}),this.core=e,this.level=t||e?.level;const n=this.log.bind(this);this.updateLogMethods(n,this.level,e.id),this.core.onLevelChange(t=>{this.level=t,this.updateLogMethods(n,t,e.id)}),this.force=k(n,e.id),this.handlerManager=e.handlerManager}getCore(){return this.core}child({level:t,scope:r,context:s,formatterConfig:i,normalizerConfig:o}={}){x(t);const n=this.mergeInheritedOptions({scope:r,context:s,formatterConfig:i,normalizerConfig:o});return new e({core:this.core,level:t,...n})}},ge=class{constructor({id:e=v,level:t=w,formatterConfig:r,normalizerConfig:s,handlerManagerConfig:i}={}){this.levelChangeCallbacks=new Set,this.id=e,x(t),this.level=t,this.initialLevel=t,this.normalizerConfig=s,this.formatterConfig=r,this.handlerManagerConfig=i,this.handlerManager=new u(i)}setLevel(e){x(e),this.level=e,this.notifyLevelChange(e)}resetLevel(){this.level=this.initialLevel,this.notifyLevelChange(this.level)}notifyLevelChange(e){for(const r of this.levelChangeCallbacks)try{r(e)}catch(t){h({type:"error",tag:"Logger Core",message:"levelChange callback error.",error:t})}}onLevelChange(e){this.levelChangeCallbacks.add(e)}offLevelChange(e){this.levelChangeCallbacks.delete(e)}},ue={pretty:{normalizerConfig:{},formatterConfig:{}},"pretty-expanded":{normalizerConfig:{},formatterConfig:{node:{level:{enableAlignment:!1},message:{lineBreaks:1,prefix:" ".repeat(4)},meta:{depth:null,compact:!1},context:{depth:null,compact:!1},lineBreaksAfter:1},browser:{message:{lineBreaks:2},meta:{lineBreaks:2},context:{lineBreaks:2},lineBreaksAfter:2},edge:{message:{prefix:"\u2022 "},meta:{prefix:"| meta: "}}}},minimal:{normalizerConfig:{node:{timestamp:{showTimeOnly:!0}},browser:{timestamp:{showTimeOnly:!0}},edge:{timestamp:{showTimeOnly:!0}}},formatterConfig:{node:{id:{hide:!0},scope:{showOnlyLatest:!0},meta:{format:"compact",prefix:`${T}| ${B}`},context:{format:"compact"}},browser:{id:{hide:!0},scope:{showOnlyLatest:!0}},edge:{scope:{showOnlyLatest:!0},meta:{format:"compact",prefix:"| "},context:{format:"compact"}}}},verbose:{normalizerConfig:{},formatterConfig:{node:{level:{enableAlignment:!1},pid:{hide:!1},hostname:{hide:!1},message:{lineBreaks:1,prefix:" ".repeat(4)},meta:{prefix:" ".repeat(4)+`${T}meta:${B}`,depth:null,compact:!1},context:{prefix:" ".repeat(4)+`${T}context:${B}`,hide:!1,depth:null,compact:!1},lineBreaksAfter:1},browser:{message:{lineBreaks:2},meta:{lineBreaks:2},context:{lineBreaks:2,hide:!1},lineBreaksAfter:2},edge:{message:{prefix:"\u2022 "},meta:{prefix:"| meta: "},context:{prefix:"| context: ",hide:!1}}}}},ye=e=>{const t=(e=>{const{timestamp:t,id:r,level:s,scope:i,message:o,meta:n,context:a}=e;return"\n".repeat(e.formatterConfig.browser?.lineBreaksBefore??0)+[t,r,s,i,o,n,a].filter(e=>"string"==typeof e&&""!==e).map(e=>`%c${e}`).join("")})(e),r=((e,t)=>{const{meta:r,context:s,cssStyles:i,formatterConfig:o}=e,n=o.browser,a="string"==typeof r&&""!==r,l="string"==typeof s&&""!==s,f=["timestamp","id","level","scope","message"].filter(t=>"string"==typeof e[t]&&""!==e[t]).map(e=>{const t=i[e];return t&&""!==t.trim()?t:"color: inherit;"});if(f.unshift(t),a&&f.push(i.meta),l&&f.push(i.context),!a&&""!==r){const e="\n".repeat(n?.meta?.lineBreaks??H.meta?.lineBreaks??0);e&&f.push(e),f.push(r)}if(!l&&""!==s){const e="\n".repeat(n?.context?.lineBreaks??H.context?.lineBreaks??0);e&&f.push(e),f.push(s)}return f})(e,t),s="\n".repeat(e.formatterConfig?.browser?.lineBreaksAfter??0);s.length>0?console.log(...r,s):console.log(...r)},ve=class{constructor(e){this.deps=e,this.platform="browser"}transport(e){const t=this.deps.normalizer.normalize(this.platform,e),r=this.deps.formatter.format(this.platform,t);return ye(r)}},we=class extends he{constructor({core:e,level:t,scope:r=[],context:s,normalizerConfig:i,formatterConfig:o}){super({core:e,level:t,scope:r,context:s,normalizerConfig:i,formatterConfig:o}),this.transporters.push(new ve({normalizer:this.normalizer,formatter:this.formatter}))}},xe=new de,Ce=new _,Se=[new ve({normalizer:xe,formatter:Ce})];var be=e=>(({id:e=v,level:t,scope:r,context:n,formatterConfig:a,normalizerConfig:l,handlerManagerConfig:f,preset:c,Logger:d=he}={})=>{const m=s.get(e);if(!m){c&&(l=o(ue[c]?.normalizerConfig,l),a=i(ue[c]?.formatterConfig,a));const m=new ge({id:e,level:t??w,formatterConfig:a,normalizerConfig:l,handlerManagerConfig:f});return s.set(e,m),new d({core:m,scope:r,context:n,formatterConfig:a,normalizerConfig:l})}return void 0===a&&void 0===l&&void 0===f&&void 0===t&&void 0===c||h({type:"warn",message:`LoggerCore with id "${e}" already exists. Passed core-level config will be ignored.\n \u2192 ${g()}`}),new d({core:m,scope:r,context:n})})({...e,Logger:we}),ke=k(e=>{const t=(({level:e,message:t,meta:r,options:s={}})=>{const i=s.scope||[],o=s.context||{};return A({timestamp:Date.now(),id:"",level:e,message:t,meta:r,scope:Array.isArray(i)?i:[i],context:o,normalizerConfig:s.normalizerConfig||{},formatterConfig:s.formatterConfig||{}})})(e);$({transporters:Se,rawPayload:t})}),Ae=ke.trace,ze=ke.debug,$e=ke.info,Be=ke.warn,Te=ke.error,Ve=ke.fatal},8453:(e,t,r)=>{r.d(t,{R:()=>n,x:()=>a});var s=r(6540);const i={},o=s.createContext(i);function n(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);